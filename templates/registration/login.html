{% extends "base1.html" %}
{% load static %}
{% load django_bootstrap5 %}

{% block title %}Login{% endblock %}

{% block custom_css %}
<style>
    .toggle-password-icon {
        position: absolute;
        top: 20%;
        right: 5%;
    }
</style>
{% endblock custom_css %}

{% block header %}<h1 class="text-center">Login</h1>{% endblock header%}

{% block content %}
<section class="container justify-content-center">
    <ul class="nav nav-pills nav-fill mb-3 mx-auto w-50" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-parent-tab" data-bs-toggle="pill" data-bs-target="#pills-parent"
                type="button" role="tab" aria-controls="pills-parent" aria-selected="true">
                Parent Login
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link btn-success" id="pills-child-tab" data-bs-toggle="pill"
                data-bs-target="#pills-child" type="button" role="tab" aria-controls="pills-child"
                aria-selected="false">
                Child Login
            </button>
        </li>
    </ul>
    <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-parent" role="tabpanel" aria-labelledby="pills-parent-tab"
            tabindex="0">
            <div class="container py-2">
                <div class="row d-flex justify-content-center">
                    <div class="col-md-6 col-xl-4">
                        <div class="card">
                            <div class="card-body text-center d-flex flex-column align-items-center">
                                <form method="post" data-bs-theme="light" action="{% url 'login' %}">
                                    {% csrf_token %}
                                    <div class="mb-3"><input class="form-control" type="text" name="username"
                                            placeholder="Parent Username">
                                    </div>
                                    <div class="mb-3 position-relative">
                                        <input class="form-control" type="password" name="password" id="id_password"
                                            placeholder="Password">
                                        <span class="toggle-password-icon"
                                            onclick="togglePasswordVisibility('login',this)"
                                            class="position-absolute top-50 start-100 translate-middle badge rounded-pill bg-dark">
                                            <i class="fa-regular fa-eye fa-lg"></i>
                                        </span>
                                    </div>
                                    <input type="hidden" id="parent_field" name="user_type" value="parent">

                                    <div class="mb-3">
                                        <button class="btn btn-success shadow d-block w-100" type="submit">
                                            Log in
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="pills-child" role="tabpanel" aria-labelledby="pills-child-tab" tabindex="0">
            <div class="container py-2">
                <div class="row d-flex justify-content-center">
                    <div class="col-md-6 col-xl-4">
                        <div class="card">
                            <div class="card-body text-center d-flex flex-column align-items-center">
                                <form method="post" data-bs-theme="light" action="{% url 'login' %}">
                                    {% csrf_token %}
                                    <div class="mb-3">
                                        <input class="form-control" type="text" name="username"
                                            placeholder="Child Username">
                                    </div>
                                    <div class="mb-3 position-relative">
                                        <input class="form-control" type="password" name="password" id="id_pass"
                                            placeholder="Password">
                                        <span class="toggle-password-icon"
                                            onclick="togglePasswordVisibility('login',this)"
                                            class="position-absolute top-50 start-100 translate-middle badge rounded-pill bg-dark">
                                            <i class="fa-regular fa-eye fa-lg"></i>
                                        </span>
                                    </div>
                                    <input type="hidden" id="child_field" name="user_type" value="child">

                                    <div class="mb-3">
                                        <button class="btn btn-success shadow d-block w-100" type="submit">
                                            Log in
                                        </button>
                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <p class="text-muted text-center">
        Don't have an account?&nbsp;
        <a href="{% url 'register_parent' %}">
            Sign Up as a Parent
        </a>
    </p>

</section>

{% endblock content %}